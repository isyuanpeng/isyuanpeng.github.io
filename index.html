<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>Isyuanpeng</title>

<meta name="description" content="The blog of YuanPeng.">
<meta name="author" content="">
<link rel="canonical" href="https://isyuanpeng.github.io/" />
<link crossorigin="anonymous" href="/assets/css/stylesheet.min.7bdb1411b29ec9fed2b6395a081eabcb3262e7311bda855249d433c8b30a926e.css" integrity="sha256-e9sUEbKeyf7StjlaCB6ryzJi5zEb2oVSSdQzyLMKkm4=" rel="preload stylesheet" as="style">
<link rel="icon" href="https://isyuanpeng.github.io/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://isyuanpeng.github.io/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://isyuanpeng.github.io/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://isyuanpeng.github.io/apple-touch-icon.png">
<link rel="mask-icon" href="https://isyuanpeng.github.io/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<meta name="generator" content="Hugo 0.138.0">
<link rel="alternate" type="application/rss+xml" href="https://isyuanpeng.github.io/index.xml">
<link rel="alternate" type="application/json" href="https://isyuanpeng.github.io/index.json">
<link rel="alternate" hreflang="en" href="https://isyuanpeng.github.io/" />
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --hljs-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript><meta property="og:title" content="Isyuanpeng" />
<meta property="og:description" content="The blog of YuanPeng." />
<meta property="og:type" content="website" />
<meta property="og:url" content="https://isyuanpeng.github.io/" /><meta property="og:image" content="https://isyuanpeng.github.io/papermod-cover.png"/>

<meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="https://isyuanpeng.github.io/papermod-cover.png"/>

<meta name="twitter:title" content="Isyuanpeng"/>
<meta name="twitter:description" content="The blog of YuanPeng."/>

<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "Organization",
  "name": "Isyuanpeng",
  "url": "https://isyuanpeng.github.io/",
  "description": "The blog of YuanPeng.",
  "thumbnailUrl": "https://isyuanpeng.github.io/favicon.ico",
  "sameAs": [
      "https://github.com/isyuanpeng/"
  ]
}
</script>
</head>

<body class="list" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://isyuanpeng.github.io/" accesskey="h" title="Isyuanpeng (Alt + H)">Isyuanpeng</a>
            <span class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
                <ul class="lang-switch"><li>|</li>
                </ul>
            </span>
        </div>
        <ul id="menu">
            <li>
                <a href="https://isyuanpeng.github.io/archives" title="Archive">
                    <span>Archive</span>
                </a>
            </li>
            <li>
                <a href="https://isyuanpeng.github.io/about" title="About">
                    <span>About</span>
                </a>
            </li>
            <li>
                <a href="https://isyuanpeng.github.io/categories/" title="Categories">
                    <span>Categories</span>
                </a>
            </li>
            <li>
                <a href="https://isyuanpeng.github.io/search/" title="Search (Alt &#43; /)" accesskey=/>
                    <span>Search</span>
                </a>
            </li>
            <li>
                <a href="https://isyuanpeng.github.io/series/" title="Series">
                    <span>Series</span>
                </a>
            </li>
            <li>
                <a href="https://isyuanpeng.github.io/tags/" title="Tags">
                    <span>Tags</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main"> 
<article class="first-entry home-info">
    <header class="entry-header">
        <h1>Hi, thereğŸ™‹ğŸ»â€â™‚ï¸</h1>
    </header>
    <section class="entry-content">
        <p>Welcome to the blog of yuanpeng.</p>
    </section>
    <footer class="entry-footer">
        <div class="social-icons">
    <a href="https://github.com/isyuanpeng/" target="_blank" rel="noopener noreferrer me" title="Github">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
    stroke-linecap="round" stroke-linejoin="round">
    <path
        d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22">
    </path>
</svg>
    </a>
</div>

    </footer>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2>ä¸€ä¸ªåŸºäºQuicåè®®çš„Httpè½¬Udpä»£ç†å·¥å…·
    </h2>
  </header>
  <section class="entry-content">
    <p>ä¸€ä¸ªåŸºäºQuicåè®®çš„Httpè½¬Udpä»£ç†å·¥å…· èƒŒæ™¯ æŸåœ°å­˜åœ¨Aå’ŒBä¸¤ä¸ªç½‘ç»œï¼ŒAä¸­æ­å»ºäº†ä¸Šçº§å¹³å°ï¼Œç”¨æˆ·å¹³æ—¶æ­£å¸¸åŠå…¬ä½¿ç”¨è¯¥å¹³å°ã€‚Bæ­å»ºäº†ä¸‹çº§å¹³å°ï¼Œæ¥å…¥è®¾å¤‡ã€‚
ä¸¤ä¸ªç½‘ç»œçš„è¾¹ç•Œç«¯å£æ˜ å°„æœ‰ä¸€ä¸ªå”¯ä¸€çš„é™åˆ¶ï¼šä¸¤ä¸ªç½‘ç»œä¹‹é—´ç«¯å£æ˜ å°„åªèƒ½æ˜ å°„Udpçš„ç«¯å£
ç°åœ¨Bç½‘ä¸­çš„è®¾å¤‡æƒ³è¦æ¥å…¥Aç½‘ï¼ŒBç½‘ä¸­çš„è®¾å¤‡æ¥å…¥åŸºæœ¬ä¸Šéƒ½æ˜¯httpè¯·æ±‚ï¼Œæ‰€ä»¥æ•´ä½“çš„å¯¹æ¥åªéœ€è¦å¯¹æ¥httpè¯·æ±‚ã€‚
æ¢ç´¢ é’ˆå¯¹è¯¥é—®é¢˜ï¼Œè¿›è¡Œç›¸å…³çš„é¢„ç ”æ¢ç´¢ã€‚ç›®å‰å·²æœ‰çš„æ¡ä»¶å°±æ˜¯udpé€šé“çš„è¾¹ç•Œï¼Œé‚£ä¹ˆå®ç°è¯¥ç›®æ ‡çš„åŠæ³•å°±æ˜¯åˆ©ç”¨è¯¥udpé€šé“å»ä¼ è¾“httpè¯·æ±‚ï¼Œä¹Ÿå°±æ˜¯è¯´è¦å¼€å‘http-udpï¼Œudp-httpçš„ä»£ç†å·¥å…·ã€‚
TCPå’ŒUDP
å¤„åœ¨TCP/IPæ¨¡å‹çš„ä¼ è¾“å±‚ä¸­ï¼Œä¼ è¾“æ§åˆ¶åè®®TCPå’Œç”¨æˆ·æ•°æ®æŠ¥åè®®UDP TCPå¯é ï¼ŒUDPä¸å¯é  Http
å¤„åœ¨TCP/IPæ¨¡å‹çš„åº”ç”¨å±‚ä¸­ï¼ŒåŸºäºtcpåè®®çš„åº”ç”¨ ä¸Šè¿°çš„æ¦‚å¿µæ¯”è¾ƒæ¸…æ™°ï¼Œå…¶ä¸­ä¹Ÿæš´éœ²äº†ä¸€ä¸ªéå¸¸å…³é”®çš„ç‚¹ï¼ŒTCPå¯é ï¼ŒUDPä¸å¯é ã€‚æˆ‘ä»¬éƒ½çŸ¥é“tcpçš„ä¸‰æ¬¡æ¡æ‰‹å’Œå››æ¬¡æŒ¥æ‰‹ï¼Œtcpæ˜¯é¢å‘è¿æ¥çš„åè®®ï¼Œé€šè¿‡ä¸¥æ ¼çš„ç¡®è®¤è¿æ¥æ¥ä¿è¯æ•´ä¸ªè¿æ¥çš„æ­£å¸¸é€šä¿¡ã€‚è€Œudpé¢å‘éè¿æ¥ï¼Œä¸éœ€è¦ç»´æŠ¤è¿æ¥çŠ¶æ€ï¼Œåªéœ€è¦äº¤ä»˜æŠ¥æ–‡å³å¯ã€‚
ç»è¿‡ä¸€äº›äº†è§£åï¼Œå¦‚æœè¦å¼€å‘ä¸€ä¸ªhttpå’Œudpäº’ç›¸è½¬æ¢çš„ä»£ç†å·¥å…·ï¼Œä¸»è¦éœ€è¦è§£å†³ä»¥ä¸‹çš„é—®é¢˜ï¼š
Udpä¸å¯é ï¼Œå­˜åœ¨ä¸¢åŒ…çš„æƒ…å†µ Udpæœ‰æŠ¥æ–‡å¤§å°é™åˆ¶ï¼Œ1480bytes Udpä¸ä¿è¯æ•°æ®é¡ºåº å¯¹äºä¸€ä¸ªç½‘ç»œæ–¹é¢çš„å°ç™½æ¥è¯´ï¼Œæƒ³è¦ç‹¬è‡ªå¼€å‘ä¸Šè¿°ä»£ç†å·¥å…·è‡³å°‘éœ€è¦åŠå¹´èµ·æ­¥ã€‚
æ—¢ç„¶ä»0å¼€å‘éœ€è¦è€—æ—¶å¤ªé•¿ï¼Œé‚£ä¹ˆå°±éœ€è¦æ‰¾ç›®å‰å·²ç»å­˜åœ¨çš„ä»£ç†å·¥å…·ï¼Œç»è¿‡æœç´¢å‘ç°ç›¸å…³å†…å®¹å°‘ä¹‹åˆå°‘ã€‚
åœ¨ä¸€æ¬¡å¶ç„¶çš„æœç´¢ä¸­å‘ç°http3.0æ˜¯åŸºäºQuicåè®®å¼€å‘ï¼Œè€ŒQuicåè®®åˆæ˜¯åŸºäºudpçš„ï¼Œé‚£ä¹ˆä¼¼ä¹æ‰¾åˆ°äº†ä¸€ä¸é—®é¢˜è§£å†³çš„å¯èƒ½æ€§ã€‚
HTTP/3 &amp; Quic HTTP/3 is the third major version of the Hypertext Transfer Protocol used to exchange information on the World Wide Web, complementing the widely-deployed HTTP/1.1 and HTTP/2. Unlike previous versions which relied on the well-established TCP (published in 1974),[2] HTTP/3 uses QUIC, a multiplexed transport protocol built on UDP.[3] On 6 June 2022, IETF published HTTP/3 as a Proposed Standard in RFC 9114.[4]
...</p>
  </section>
  <footer class="entry-footer">&lt;span title=&#39;2023-11-25 11:39:30 &#43;0800 CST&#39;&gt;November 25, 2023&lt;/span&gt;&amp;nbsp;Â·&amp;nbsp;4 min&amp;nbsp;Â·&amp;nbsp;yuanpeng11</footer>
  <a class="entry-link" aria-label="post link to ä¸€ä¸ªåŸºäºQuicåè®®çš„Httpè½¬Udpä»£ç†å·¥å…·" href="https://isyuanpeng.github.io/posts/tech/%E4%B8%80%E4%B8%AA%E5%9F%BA%E4%BA%8Equic%E5%8D%8F%E8%AE%AE%E7%9A%84http%E8%BD%ACudp%E4%BB%A3%E7%90%86%E5%B7%A5%E5%85%B7/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2>Mavenä¹‹Deployä½¿ç”¨
    </h2>
  </header>
  <section class="entry-content">
    <p>Mavenä¹‹Deployä½¿ç”¨ èƒŒæ™¯ ç›®å‰å…¬å¸é‡Œçš„é¡¹ç›®å®šåˆ¶ä¸€èˆ¬ä¸éœ€è¦ç”¨åˆ°Deploy(ä¸Šä¼ jaråŒ…åˆ°afä»“åº“ä¸Š)ï¼Œå®šåˆ¶åªæ˜¯ä¸‹è½½ä¾èµ–ç„¶åä½¿ç”¨ã€‚æœ€è¿‘å¼€å‘ç»„ä»¶è¿‡ç¨‹ä¸­ï¼Œç”±äºéœ€è¦ç»„ä»¶æä¾›å¯¹å¤–apiç»™å…¶å®ƒç»„ä»¶ä½¿ç”¨ï¼Œåœ¨ä½¿ç”¨çš„è¿‡ç¨‹ä¸­ä¹Ÿä¸æ˜¯ç‰¹åˆ«é¡ºåˆ©ï¼Œæ‰€ä»¥è®°å½•ä¸€ä¸‹Deployçš„ä½¿ç”¨ã€‚
Deploy Deployæ˜¯Mavenç”Ÿå‘½å‘¨æœŸçš„æœ€åä¸€ä¸ªç¯èŠ‚ï¼Œä½œç”¨æ˜¯ä¸Šä¼ æœ€ç»ˆçš„æˆæœç‰©åˆ°è¿œç¨‹ä»“åº“ä¸­ï¼Œå…±äº«ç»™å…¶å®ƒå¼€å‘äººå‘˜å’Œå·¥ç¨‹ã€‚ä½¿ç”¨æ–¹æ³•å¦‚ä¸‹ï¼š
Step 1ï¼šéœ€è¦åœ¨settings.xmlé…ç½®afä»“åº“çš„ç”¨æˆ·åå’Œå¯†ç 
1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 &lt;!-- servers | This is a list of authentication profiles, keyed by the server-id used within the system. | Authentication profiles can be used whenever maven must make a connection to a remote server. |--&gt; &lt;servers&gt; &lt;!-- server | Specifies the authentication information to use when connecting to a particular server, identified by | a unique name within the system (referred to by the &#39;id&#39; attribute below). | | NOTE: You should either specify username/password OR privateKey/passphrase, since these pairings are | used together. | --&gt; &lt;server&gt; &lt;id&gt;xxx-release&lt;/id&gt; &lt;username&gt;xxx&lt;/username&gt; &lt;password&gt;xxx&lt;/password&gt; &lt;/server&gt; &lt;/servers&gt; Step 2ï¼šè¦Deployçš„moduleçš„pomæ–‡ä»¶ä¸­æ·»åŠ è¦ä¸Šä¼ çš„afä»“åº“ï¼Œidè¦å’Œä¸Šé¢settings.xmlä¸­çš„idå¯¹åº”
...</p>
  </section>
  <footer class="entry-footer">&lt;span title=&#39;2023-06-21 18:40:34 &#43;0800 CST&#39;&gt;June 21, 2023&lt;/span&gt;&amp;nbsp;Â·&amp;nbsp;1 min&amp;nbsp;Â·&amp;nbsp;yuanpeng11</footer>
  <a class="entry-link" aria-label="post link to Mavenä¹‹Deployä½¿ç”¨" href="https://isyuanpeng.github.io/posts/tech/maven%E4%B9%8Bdeploy%E4%BD%BF%E7%94%A8/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2>DEBUG
    </h2>
  </header>
  <section class="entry-content">
    <p>æµ…æå‡ ç§ä¸åŒçš„DEBUGæ–¹æ³•ï¼Œæ¬¢è¿å¤§å®¶è¡¥å…… è¿œç¨‹DEBUG å½“æœ¬åœ°çš„ä»£ç å› ä¸ºå„ç§åŸå› æ— æ³•æ­£å¸¸å¯åŠ¨çš„æ—¶å€™ï¼Œå¯ä»¥é€‰æ‹©ä½¿ç”¨è¿œç¨‹DEBUGï¼Œè¿™ç§æ–¹æ³•è¦æ±‚å’Œçº¿ä¸Šçš„ä»£ç ä¸€è‡´ï¼Œå…·ä½“æ–¹æ³•å¦‚ä¸‹ï¼Œ
Step1: æ–°å»ºä¸€ä¸ªremote jvm debugï¼Œå¡«å…¥éœ€è¦çº¿ä¸ŠæœåŠ¡æ‰€åœ¨æœåŠ¡å™¨ipï¼Œå¤åˆ¶Command line arguments for remote JVMï¼Œé€‰æ‹©éœ€è¦debugçš„moduleã€‚
Step2: æœåŠ¡å™¨ä¸­å¯åŠ¨è„šæœ¬ä¿®æ”¹æ·»åŠ Step1ä¸­å¤åˆ¶çš„arguments
1 java -jar -agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=5005 remote-debug-1.0-SNAPSHOT.jar å…¬å¸çš„jsvcå¯åŠ¨çš„è¯ï¼Œè¦æ”¾åœ¨mainclasså‰é¢ï¼Œæ³¨æ„JDKçš„ç‰ˆæœ¬ï¼ŒæŸ¥çœ‹JAVA_HOMEçš„ç‰ˆæœ¬ï¼Œjdk8å°±é…åœ¨jdk8çš„å¯åŠ¨å‘½ä»¤å¤„ï¼Œjdk11åŒç†ã€‚é…ç½®å¥½å¯åŠ¨è„šæœ¬åï¼Œé‡å¯æœåŠ¡ã€‚
1 $_JSVC -D${_ServerName} -home $JAVA_HOME -cwd ${_HOME_DIR}/config -umask 0011 -Djava.security.egd=file:/dev/./urandom -Djava.net.preferIPv4Stack=true -Dcom.sun.jndi.ldap.connect.pool.protocol=&#34;plain ssl&#34; -XX:MetaspaceSize=${_MetaspaceSize} -XX:MaxMetaspaceSize=${_MaxMetaspaceSize} -Xms${_Xms} -Xmx${_Xmx} -Xmn${_Xmn} -XX:SurvivorRatio=8 -XX:&#43;HeapDumpOnOutOfMemoryError -XX:&#43;DisableExplicitGC -XX:&#43;PrintGCDetails -XX:&#43;PrintGCDateStamps -XX:&#43;PrintGCTimeStamps -Xloggc:${_HOME_DIR}/logs/gc.log -XX:&#43;UseGCLogFileRotation -XX:NumberOfGCLogFiles=10 -XX:GCLogFileSize=8M -Djava.io.tmpdir=${_HOME_DIR}/temp *-agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=5005* -Dloader.main=${_MainClass} -wait 60 -pidfile $_Pid -outfile ${_LogOut} -errfile ${_LogErr} -cp ${_Classpath_jdk8} -procname ${_SystemctlName} $1 ${_StarCLASS} Step3: é‡å¯å¥½æœåŠ¡åï¼ŒIDEAå¯åŠ¨è¿œç¨‹debugã€‚æ˜¾ç¤ºè¿æ¥æ­£å¸¸å³å¯ï¼Œå¦‚æœè¿æ¥time outæŸ¥è¯¢æœåŠ¡5005ç«¯å£æ˜¯å¦èµ·æ¥ï¼Œå¦‚æœæ²¡æœ‰èµ·æ¥åˆ™æŸ¥çœ‹æœåŠ¡å¯åŠ¨é—®é¢˜ã€‚
Step4: æ‰“æ–­ç‚¹ï¼Œçº¿ä¸ŠæœåŠ¡é¡µé¢æ“ä½œå³å¯è¿›å…¥æ–­ç‚¹ã€‚
Nginxä»£ç†DEBUG åœ¨è¿›è¡ŒæŸæ¬¡é—®é¢˜çš„æ’æŸ¥çš„æ—¶å€™ï¼Œéœ€è¦debugå•ç‚¹ç™»å½•(å¤–éƒ¨ä¾èµ–)çš„æµç¨‹ï¼Œçº¿ä¸Šå’Œçº¿ä¸‹çš„ç»„ä»¶ä»£ç ä¸ä¸€è‡´ï¼Œä½†æ˜¯ä¾èµ–çš„å•ç‚¹ç™»å½•jaråŒ…ä¸€è‡´ï¼Œæµ‹è¯•å‘ç°IDEAè¿œç¨‹DEBUGå¹¶ä¸èƒ½debugå¤–éƒ¨ä¾èµ–çš„jaråŒ…ã€‚
ç”±äºçº¿ä¸ŠæœåŠ¡ä½¿ç”¨çš„é¢‘ç‡ä¸é«˜ï¼Œæ‰€ä»¥ç›´æ¥å¯åŠ¨æœ¬åœ°çš„ä»£ç ä½œä¸ºçº¿ä¸ŠæœåŠ¡ï¼Œä½¿ç”¨nginxåå‘ä»£ç†çº¿ä¸ŠæœåŠ¡åˆ°æœ¬åœ°ï¼Œæ­¤æ—¶å°±å¯ä»¥æ„‰å¿«çš„è¿›è¡Œå¤–éƒ¨jaråŒ…çš„debugï¼Œå…·ä½“æ–¹æ³•å¦‚ä¸‹ã€‚
Step1: å¯åŠ¨æœ¬åœ°æœåŠ¡
Step2: æ‰¾åˆ°é›†ç¾¤ä»£ç†ç»„ä»¶æ‰€åœ¨çš„æœåŠ¡å™¨ï¼Œè¿›å…¥ä»£ç†ç»„ä»¶å†…éƒ¨/opt/opsmgr/web/components/cluster.1/data/proxy_sectionï¼Œä¿®æ”¹proxy_https.confæ–‡ä»¶ï¼Œæ‰¾åˆ°éœ€è¦åå‘ä»£ç†çš„ç»„ä»¶locationï¼Œä»¥ifaceä¸ºä¾‹ï¼Œä¿®æ”¹proxy_passçš„å‚æ•°ä¸ºæœ¬åœ°å¯åŠ¨æœåŠ¡çš„åœ°å€ã€‚
1 2 3 4 5 6 7 8 9 10 location /iface-web/ { proxy_set_header Host $http_host; proxy_set_header X-Real-IP $remote_addr; proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for; proxy_set_header X-Forwarded-Proto $scheme; proxy_cookie_path /iface-web &#34;/iface-web;httponly; secure&#34;; #proxy_pass http://10.195.185.23:8037/iface-web/; proxy_pass http://10.195.169.165:8037/iface-web/; } Step3: é‡å¯nginx
...</p>
  </section>
  <footer class="entry-footer">&lt;span title=&#39;2023-05-08 18:52:46 &#43;0800 CST&#39;&gt;May 8, 2023&lt;/span&gt;&amp;nbsp;Â·&amp;nbsp;1 min&amp;nbsp;Â·&amp;nbsp;yuanpeng11</footer>
  <a class="entry-link" aria-label="post link to DEBUG" href="https://isyuanpeng.github.io/posts/tech/debug/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2>Nginxä»£ç†é…ç½®å®æˆ˜
    </h2>
  </header>
  <section class="entry-content">
    <p>æµ…æä»£ç† NginxåŠŸèƒ½ æ­£å‘ä»£ç†ï¼šå®¢æˆ·ç«¯ä¸çŸ¥é“æœåŠ¡ç«¯ï¼Œä¹Ÿå°±æ˜¯è¯´å®¢æˆ·ç«¯éœ€è¦é…ç½®ä»£ç†æœåŠ¡å™¨æ¥ï¼Œä»£ç†æœåŠ¡å™¨å†å»è®¿é—®çœŸæ­£çš„æœåŠ¡ç«¯ã€‚æŒ‚æ¢¯å­å°±æ˜¯æ­£å‘ä»£ç†çš„åº”ç”¨ã€‚ åå‘ä»£ç†ï¼šæœåŠ¡ç«¯ä¸çŸ¥é“å®¢æˆ·ç«¯ï¼Œå®¢æˆ·ç«¯ä¸éœ€è¦è¿›è¡Œä»»ä½•é…ç½®ï¼Œç”¨æˆ·åªè¯·æ±‚åå‘ä»£ç†åœ°å€ï¼Œåå‘ä»£ç†æœåŠ¡å™¨é€‰æ‹©ç›®æ ‡æœåŠ¡å™¨ï¼Œè·å–æ•°æ®è¿”å›å®¢æˆ·ç«¯ã€‚ è´Ÿè½½å‡è¡¡ï¼šåœ¨åå‘ä»£ç†ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨è´Ÿè½½å‡è¡¡å»å°†è¯·æ±‚åˆ†é…åˆ°ä¸åŒçš„æœåŠ¡å™¨ä¸Šã€‚ åŠ¨é™åˆ†ç¦»ï¼šNginxå°†æ¥åˆ°çš„è¯·æ±‚åˆ†ä¸ºåŠ¨æ€è¯·æ±‚å’Œé™æ€è¯·æ±‚ï¼Œè¿™åœ¨å®é™…çš„åº”ç”¨ä¸­å¯¹åº”äº†å‰åç«¯ã€‚ NginxåŸç† Master - Worker æ¨¡å¼ åœ¨å¯åŠ¨Nginxåï¼Œæˆ‘ä»¬é€šè¿‡ps -efå¯ä»¥å‘ç°æœ‰å…³nginxçš„è¿›ç¨‹æœ‰ä¸€ä¸ªmaster processå’Œnä¸ªworker processï¼Œå¹¶ä¸”æˆ‘ä»¬æŸ¥çœ‹nginxç›‘å¬çš„ç«¯å£ï¼Œå¯ä»¥çœ‹åˆ°ç›‘å¬äº†80ç«¯å£ã€‚
Master process: masterè¿›ç¨‹çš„ä½œç”¨ä¸»è¦æ˜¯è¯»å–å¹¶ä¸”éªŒè¯nginx.conf, å¹¶ä¸”ç®¡ç†workerè¿›ç¨‹ï¼Œç»™workerè¿›ç¨‹ä¼ é€’æ¶ˆæ¯ã€‚
Worker process: æ¯ä¸€ä¸ªWorkerè¿›ç¨‹éƒ½ç»´æŠ¤äº†ä¸€ä¸ªçº¿ç¨‹å»å¤„ç†è¿æ¥å’Œè¯·æ±‚(é¿å…ä¸€ä¸ªçº¿ç¨‹é€ æˆçš„çº¿ç¨‹åˆ‡æ¢é—®é¢˜)ï¼Œä¸€èˆ¬cpuå‡ æ ¸å°±æœ‰å‡ ä¸ªworkerè¿›ç¨‹ã€‚
æ‰€æœ‰çš„workerè¿›ç¨‹éƒ½æ˜¯ä»masterè¿›ç¨‹fork()è¿‡æ¥çš„ï¼Œworkerè¿›ç¨‹æä¾›å¥½listenfdçš„æ¥å£, ä¸ºäº†ä¿è¯åªæœ‰ä¸€ä¸ªè¿›ç¨‹å¤„ç†è¿æ¥ï¼Œæ‰€æœ‰çš„Workerè¿›ç¨‹åœ¨æ³¨å†Œlistenfdæ¥å£è¯»å–äº‹ä»¶å‰æŠ¢äº’æ–¥é”accept_mutexï¼ŒæŠ¢åˆ°äº’æ–¥é”çš„é‚£ä¸ªè¿›ç¨‹æ³¨å†Œlistenfdè¯»äº‹ä»¶ï¼Œåœ¨è¯»äº‹ä»¶é‡Œé¢è°ƒç”¨acceptæ¥å—è¿æ¥ï¼Œå¼€å§‹å¤„ç†è¯·æ±‚ã€‚ Nginxé‡‡å–ä¸Šé¢çš„è¿™ç§è¿›ç¨‹æ¨¡å‹çš„å¥½å¤„ï¼š ç‹¬ç«‹è¿›ç¨‹ä¸éœ€è¦åŠ é”ï¼Œçœå»é”çš„å¼€é”€ ç‹¬ç«‹è¿›ç¨‹äº’ä¸å½±å“ï¼ŒæœåŠ¡ä¸ä¼šä¸­æ–­ ç‹¬ç«‹è¿›ç¨‹å¼‚å¸¸é€€å‡ºï¼Œåªå½±å“è¯¥è¿›ç¨‹çš„è¯·æ±‚ Cache Manager process: é™¤äº†ä¸Šé¢ä¸¤ä¸ªè¿›ç¨‹å¤–ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥çœ‹åˆ°Cache Manager process, ä¸ä¹‹å¯¹åº”çš„è¿˜æœ‰Cache Loader process(åœ¨nginxæœåŠ¡å¯åŠ¨çš„æ—¶å€™ç”±ä¸»è¿›ç¨‹ç”Ÿæˆï¼Œç¼“å­˜æ•°æ®åŠ è½½å®Œæˆåé€€å‡º), Cache Manager processè´Ÿè´£ç¼“å­˜ç´¢å¼•çš„è¿˜ç¤¼ï¼Œé€šè¿‡ç¼“å­˜æœºåˆ¶ï¼Œå¯ä»¥æé«˜å¯¹è¯·æ±‚çš„å“åº”æ•ˆç‡ã€‚ æ¨¡å—åŒ– Nginxä»åŠŸèƒ½ä¸Šå¯ä»¥åˆ†ä¸ºï¼š
Handlers: å¤„ç†è¯·æ±‚ï¼Œè¿›è¡Œè¾“å‡ºå†…å®¹å’Œä¿®æ”¹headersç­‰ï¼Œä¸€èˆ¬åªæœ‰ä¸€ä¸ª Filters: æ¥æ”¶è¯·æ±‚è¿›è¡Œé“¾å¼ä¿®æ”¹ Proxies: Nginxçš„Htpp Upstreamç­‰æ¨¡å—ï¼Œä¸»è¦å’Œåç«¯è¿›è¡Œäº¤äº’ï¼Œå®ç°æœåŠ¡ä»£ç†å’Œè´Ÿè½½å‡è¡¡ç­‰ Nginxï¼ˆå†…æ ¸ï¼‰æœ¬èº«åšçš„å·¥ä½œå®é™…å¾ˆå°‘ï¼Œå½“å®ƒæ¥åˆ°ä¸€ä¸ª HTTP è¯·æ±‚æ—¶ï¼Œå®ƒä»…ä»…æ˜¯é€šè¿‡æŸ¥æ‰¾é…ç½®æ–‡ä»¶å°†æ­¤æ¬¡è¯·æ±‚æ˜ å°„åˆ°ä¸€ä¸ª location blockï¼Œè€Œæ­¤ location ä¸­æ‰€é…ç½®çš„å„ä¸ªæŒ‡ä»¤åˆ™ä¼šå¯åŠ¨ä¸åŒçš„æ¨¡å—å»å®Œæˆå·¥ä½œï¼Œå› æ­¤æ¨¡å—å¯ä»¥çœ‹åš Nginx çœŸæ­£çš„åŠ³åŠ¨å·¥ä½œè€…ã€‚é€šå¸¸ä¸€ä¸ª location ä¸­çš„æŒ‡ä»¤ä¼šæ¶‰åŠä¸€ä¸ª Handler æ¨¡å—å’Œå¤šä¸ª Filter æ¨¡å—ï¼ˆå½“ç„¶ï¼Œå¤šä¸ªlocationå¯ä»¥å¤ç”¨åŒä¸€ä¸ªæ¨¡å—ï¼‰ã€‚Handleræ¨¡å—è´Ÿè´£å¤„ç†è¯·æ±‚ï¼Œå®Œæˆå“åº”å†…å®¹çš„ç”Ÿæˆï¼Œè€Œ Filter æ¨¡å—å¯¹å“åº”å†…å®¹è¿›è¡Œå¤„ç†ã€‚
...</p>
  </section>
  <footer class="entry-footer">&lt;span title=&#39;2023-03-23 19:01:29 &#43;0800 CST&#39;&gt;March 23, 2023&lt;/span&gt;&amp;nbsp;Â·&amp;nbsp;2 min&amp;nbsp;Â·&amp;nbsp;yuanpeng11</footer>
  <a class="entry-link" aria-label="post link to Nginxä»£ç†é…ç½®å®æˆ˜" href="https://isyuanpeng.github.io/posts/tech/nginx-proxy/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2>Aries No Log
    </h2>
  </header>
  <section class="entry-content">
    <p>log4jçº¿ä¸Šä¸æ‰“å°æ—¥å¿— é—®é¢˜æè¿° ä½¿ç”¨log4jçš„é¡¹ç›®(åŒ…åcom.abc)åœ¨æœåŠ¡å™¨ä¸Šæœªæ‰“å°æ—¥å¿—ï¼Œæœ¬åœ°æ§åˆ¶å°æ‰“å°æ­£å¸¸ï¼Œæ–‡ä»¶ä¸­æœªè¾“å‡ºã€‚
æ—¥å¿—æ–‡ä»¶èƒ½å¤Ÿæ­£å¸¸ç”Ÿæˆï¼Œå¹¶ä¸”ä¹Ÿæœ‰æ—¥å¿—æ‰“å°ï¼Œä½†æ˜¯ä¸šåŠ¡æ—¥å¿—æ²¡æœ‰æ‰“å°ã€‚
åªæ‰“å°äº†com.xxxåŒ…ä¸‹çš„æ—¥å¿—ã€‚
é—®é¢˜åˆ†æ å‡ºç°æ—¥å¿—æ— æ³•æ‰“å°çš„é—®é¢˜å¤§æ¦‚ç‡å°±åœ¨logback.xmlçš„é…ç½®ä¸Šï¼Œå…·ä½“logbackçš„é…ç½®å‚æ•°çš„å…·ä½“è§£é‡Šç½‘ä¸Šæœ‰å¾ˆå¤šï¼Œå…·ä½“å¯ä»¥çœ‹ä¸€ä¸‹
https://juejin.cn/post/7200549600590282789
åœ¨logback.xmlä¸­å¯ä»¥å‘ç°ä¸€ä¸ªé…ç½®é¡¹:
1 2 3 4 5 6 7 &lt;!-- æœ¬åœ°æµ‹è¯•æ—¶ï¼Œå¯ä»¥ä¿®æ”¹level ä»¥ä¾¿æ‰“å°debugæ—¥å¿— --&gt; &lt;!--å®šä¹‰com.xxxåŒ…ä¸‹çš„ç±»æ—¥å¿—å‘å“ªä¸ªappenderå†™å…¥æ—¥å¿—--&gt; &lt;logger name=&#34;com.xxx&#34; level=&#34;info&#34; additivity=&#34;false&#34;&gt; &lt;appender-ref ref=&#34;FILE-debug&#34; /&gt; &lt;appender-ref ref=&#34;FILE-error&#34; /&gt; &lt;appender-ref ref=&#34;STDOUT&#34; /&gt; &lt;/logger&gt; loggeræ ‡ç­¾å¯ä»¥æŒ‡å®šç‰¹å®šåŒ…çš„è¾“å‡ºï¼Œadditivityå­—æ®µå«ä¹‰å¦‚ä¸‹
å¦‚æœloggeré‡Œé¢é…ç½®äº†additivity=â€œfalseâ€ï¼Œå°±ä¼šè¦†ç›–rootçš„ï¼Œåªæ‰“å°ä¸€éï¼›ä½†æ˜¯additivity=â€œtrueâ€ï¼Œå°±ä¼šå‘ä¸Šå±‚å†æ¬¡ä¼ é€’ï¼Œä¸ä¼šè¦†ç›–ï¼Œè€Œæ˜¯æ‰“å°ä¸¤éï¼
é€šè¿‡æŸ¥çœ‹logback.xmlæ–‡ä»¶æˆ‘ä»¬å¯ä»¥å‘ç°ï¼Œæ•´ä¸ªæ–‡ä»¶ä¸­åªä½¿ç”¨äº†ä¸€ä¸ªloggeræ‰“å°com.xxxåŒ…ä¸‹çš„æ—¥å¿—ï¼Œè€Œæˆ‘ä»¬çš„é¡¹ç›®çš„packageä¸ºcom.abcã€‚
é—®é¢˜è§£å†³ è‡³æ­¤é—®é¢˜å·²ç»æ’æŸ¥å®Œæ¯•ï¼Œé‚£é—®é¢˜çš„è§£å†³ä¹Ÿå¾ˆç®€å•ï¼Œæ–°å¢åŠ ä¸€ä¸ªcom.abcçš„loggerå³å¯
1 2 3 4 5 6 7 &lt;!-- æœ¬åœ°æµ‹è¯•æ—¶ï¼Œå¯ä»¥ä¿®æ”¹level ä»¥ä¾¿æ‰“å°debugæ—¥å¿— --&gt; &lt;!--å®šä¹‰com.xxx åŒ…ä¸‹çš„ç±»æ—¥å¿—å‘å“ªä¸ªappenderå†™å…¥æ—¥å¿—--&gt; &lt;logger name=&#34;com.abc&#34; level=&#34;info&#34; additivity=&#34;false&#34;&gt; &lt;appender-ref ref=&#34;FILE-debug&#34; /&gt; &lt;appender-ref ref=&#34;FILE-error&#34; /&gt; &lt;appender-ref ref=&#34;STDOUT&#34; /&gt; &lt;/logger&gt; </p>
  </section>
  <footer class="entry-footer">&lt;span title=&#39;2023-02-27 18:11:45 &#43;0800 CST&#39;&gt;February 27, 2023&lt;/span&gt;&amp;nbsp;Â·&amp;nbsp;1 min&amp;nbsp;Â·&amp;nbsp;YuanPeng</footer>
  <a class="entry-link" aria-label="post link to Aries No Log" href="https://isyuanpeng.github.io/posts/question/aries-no-log/"></a>
</article>
<footer class="page-footer">
  <nav class="pagination">
    <a class="next" href="https://isyuanpeng.github.io/page/2/">Next Page Â»</a>
  </nav>
</footer>
    </main>
    
<footer class="footer">
    <span>&copy; 2024 <a href="https://isyuanpeng.github.io/">Isyuanpeng</a></span>
    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://git.io/hugopapermod" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
</body>

</html>
